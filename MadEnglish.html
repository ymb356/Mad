<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Wizardry - English Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Crimson+Pro:wght@400;600&family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Pro', serif;
            background: linear-gradient(135deg, #2a1a4a 0%, #4a2a5a 50%, #3a1a3a 100%);
            min-height: 100vh;
            color: #2c1810;
            overflow-x: hidden;
            position: relative;
        }

        /* Floating book pages animation */
        .floating-symbols {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .symbol {
            position: absolute;
            font-size: 24px;
            opacity: 0.1;
            animation: float 20s infinite;
            color: #ffd700;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-100vh) rotate(360deg); }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
            background: linear-gradient(135deg, #f4e9d7 0%, #e8d5b7 100%);
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3), inset 0 0 0 3px #d4af37;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '"';
            position: absolute;
            top: -20px;
            left: 20px;
            font-size: 120px;
            color: #d4af37;
            opacity: 0.2;
            font-family: 'Playfair Display', serif;
        }

        .header::after {
            content: '"';
            position: absolute;
            bottom: -60px;
            right: 20px;
            font-size: 120px;
            color: #d4af37;
            opacity: 0.2;
            font-family: 'Playfair Display', serif;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3em;
            font-weight: 900;
            background: linear-gradient(135deg, #6b1f5c 0%, #8b2f6c 50%, #4a0f3c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            font-family: 'Libre Baskerville', serif;
            font-size: 1.2em;
            color: #8b4513;
            font-style: italic;
        }

        .menu {
            background: linear-gradient(135deg, #f4e9d7 0%, #e8d5b7 100%);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3), inset 0 0 0 3px #d4af37;
            margin-bottom: 30px;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8em;
            color: #6b1f5c;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 700;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .category-btn {
            background: linear-gradient(135deg, #fff 0%, #f5f5f5 100%);
            border: 3px solid #6b1f5c;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Crimson Pro', serif;
            font-size: 1.1em;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .category-btn::before {
            content: '‚ùù';
            position: absolute;
            top: 5px;
            left: 10px;
            font-size: 30px;
            color: #d4af37;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .category-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(107, 31, 92, 0.4), 0 0 20px rgba(212, 175, 55, 0.6);
            border-color: #d4af37;
        }

        .category-btn:hover::before {
            opacity: 0.5;
        }

        .category-btn.selected {
            background: linear-gradient(135deg, #6b1f5c 0%, #8b2f6c 100%);
            color: #fff;
            border-color: #d4af37;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.8);
        }

        .category-icon {
            font-size: 1.5em;
            margin-right: 8px;
        }

        .difficulty-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .difficulty-btn {
            background: linear-gradient(135deg, #fff 0%, #f5f5f5 100%);
            border: 3px solid #8b4513;
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Crimson Pro', serif;
            font-size: 1em;
            font-weight: 600;
        }

        .difficulty-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(139, 69, 19, 0.4);
        }

        .difficulty-btn.selected {
            color: #fff;
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.6);
        }

        .difficulty-btn.beginner.selected {
            background: linear-gradient(135deg, #28a745 0%, #20843a 100%);
            border-color: #d4af37;
        }

        .difficulty-btn.intermediate.selected {
            background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
            border-color: #d4af37;
        }

        .difficulty-btn.advanced.selected {
            background: linear-gradient(135deg, #dc3545 0%, #bd2130 100%);
            border-color: #d4af37;
        }

        .difficulty-btn.mastery.selected {
            background: linear-gradient(135deg, #6b1f5c 0%, #4a0f3c 100%);
            border-color: #d4af37;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.8);
        }

        .start-btn {
            background: linear-gradient(135deg, #6b1f5c 0%, #8b2f6c 100%);
            color: #fff;
            border: 3px solid #d4af37;
            padding: 20px 50px;
            border-radius: 15px;
            font-family: 'Playfair Display', serif;
            font-size: 1.5em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 0 auto;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.6);
        }

        .start-btn:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 0 40px rgba(212, 175, 55, 0.9);
        }

        .start-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quiz-container {
            background: linear-gradient(135deg, #f4e9d7 0%, #e8d5b7 100%);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3), inset 0 0 0 3px #d4af37;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .quiz-info {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .info-badge {
            background: linear-gradient(135deg, #6b1f5c 0%, #8b2f6c 100%);
            color: #fff;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 600;
            border: 2px solid #d4af37;
        }

        .timer {
            font-size: 1.3em;
            font-weight: 700;
            color: #6b1f5c;
            font-family: 'Playfair Display', serif;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question-number {
            font-family: 'Playfair Display', serif;
            font-size: 1.2em;
            color: #8b4513;
            margin-bottom: 15px;
        }

        .question-text {
            font-family: 'Libre Baskerville', serif;
            font-size: 1.4em;
            color: #2c1810;
            margin-bottom: 30px;
            line-height: 1.6;
            padding: 20px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            border-left: 5px solid #6b1f5c;
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option {
            background: linear-gradient(135deg, #fff 0%, #f9f9f9 100%);
            border: 3px solid #8b4513;
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Crimson Pro', serif;
            font-size: 1.1em;
            position: relative;
        }

        .option:hover {
            transform: translateX(10px);
            border-color: #d4af37;
            box-shadow: 0 5px 20px rgba(212, 175, 55, 0.4);
        }

        .option.selected {
            background: linear-gradient(135deg, #6b1f5c 0%, #8b2f6c 100%);
            color: #fff;
            border-color: #d4af37;
        }

        .option.correct {
            background: linear-gradient(135deg, #28a745 0%, #20843a 100%);
            color: #fff;
            border-color: #d4af37;
        }

        .option.incorrect {
            background: linear-gradient(135deg, #dc3545 0%, #bd2130 100%);
            color: #fff;
            border-color: #d4af37;
        }

        .next-btn {
            background: linear-gradient(135deg, #6b1f5c 0%, #8b2f6c 100%);
            color: #fff;
            border: 3px solid #d4af37;
            padding: 15px 40px;
            border-radius: 12px;
            font-family: 'Crimson Pro', serif;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            float: right;
            margin-top: 20px;
        }

        .next-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.8);
        }

        .results {
            text-align: center;
        }

        .results h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5em;
            color: #6b1f5c;
            margin-bottom: 20px;
        }

        .score-display {
            font-size: 3em;
            font-weight: 900;
            font-family: 'Playfair Display', serif;
            background: linear-gradient(135deg, #d4af37 0%, #ffd700 50%, #d4af37 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 30px 0;
        }

        .performance {
            font-size: 1.5em;
            color: #8b4513;
            margin-bottom: 30px;
            font-family: 'Libre Baskerville', serif;
            font-style: italic;
        }

        .restart-btn {
            background: linear-gradient(135deg, #6b1f5c 0%, #8b2f6c 100%);
            color: #fff;
            border: 3px solid #d4af37;
            padding: 20px 50px;
            border-radius: 15px;
            font-family: 'Playfair Display', serif;
            font-size: 1.5em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.6);
        }

        .restart-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 40px rgba(212, 175, 55, 0.9);
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2em; }
            .category-grid, .difficulty-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="floating-symbols" id="floatingSymbols"></div>
    
    <div class="container">
        <div class="header">
            <h1>üìö Word Wizardry ‚ú®</h1>
            <p class="subtitle">Master the English Language</p>
        </div>

        <!-- Menu Screen -->
        <div id="menuScreen" class="menu">
            <h2 class="section-title">Choose Your Category</h2>
            <div class="category-grid">
                <div class="category-btn" data-category="grammar">
                    <span class="category-icon">üìù</span>Grammar
                </div>
                <div class="category-btn" data-category="vocabulary">
                    <span class="category-icon">üìñ</span>Vocabulary
                </div>
                <div class="category-btn" data-category="literature">
                    <span class="category-icon">üìï</span>Literature
                </div>
                <div class="category-btn" data-category="spelling">
                    <span class="category-icon">‚úçÔ∏è</span>Spelling
                </div>
                <div class="category-btn" data-category="idioms">
                    <span class="category-icon">üí¨</span>Idioms & Phrases
                </div>
                <div class="category-btn" data-category="writing">
                    <span class="category-icon">üñãÔ∏è</span>Writing
                </div>
                <div class="category-btn" data-category="mixed">
                    <span class="category-icon">üé≠</span>Mixed Mastery
                </div>
            </div>

            <h2 class="section-title">Select Difficulty</h2>
            <div class="difficulty-grid">
                <div class="difficulty-btn beginner" data-difficulty="beginner">
                    üü¢ Beginner
                </div>
                <div class="difficulty-btn intermediate" data-difficulty="intermediate">
                    üü° Intermediate
                </div>
                <div class="difficulty-btn advanced" data-difficulty="advanced">
                    üî¥ Advanced
                </div>
                <div class="difficulty-btn mastery" data-difficulty="mastery">
                    üëë LITERARY MASTERY
                </div>
            </div>

            <button class="start-btn" id="startBtn" disabled>Begin Your Quest</button>
        </div>

        <!-- Quiz Screen -->
        <div id="quizScreen" class="quiz-container hidden">
            <div class="quiz-header">
                <div class="quiz-info">
                    <div class="info-badge" id="categoryBadge"></div>
                    <div class="info-badge" id="difficultyBadge"></div>
                    <div class="info-badge">Question <span id="questionNum">1</span>/10</div>
                </div>
                <div class="timer" id="timer">‚è±Ô∏è 0s</div>
            </div>

            <div class="question-container">
                <div class="question-number" id="questionNumber">Question 1 of 10</div>
                <div class="question-text" id="questionText"></div>
                <div class="options" id="options"></div>
            </div>

            <button class="next-btn hidden" id="nextBtn">Next Question ‚Üí</button>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="quiz-container hidden">
            <div class="results">
                <h2>Quest Complete! üéâ</h2>
                <div class="score-display" id="finalScore"></div>
                <div class="performance" id="performance"></div>
                <button class="restart-btn" id="restartBtn">Embark on Another Quest</button>
            </div>
        </div>
    </div>

    <script>
        // Quiz data
        const quizData = {
            grammar: {
                beginner: [
                    { q: "Which word is a noun?", options: ["run", "happy", "book", "quickly"], answer: 2 },
                    { q: "What is the plural of 'child'?", options: ["childs", "children", "childes", "child's"], answer: 1 },
                    { q: "Which sentence is correct?", options: ["He go to school", "He goes to school", "He going to school", "He gone to school"], answer: 1 },
                    { q: "What type of word is 'beautiful'?", options: ["noun", "verb", "adjective", "adverb"], answer: 2 },
                    { q: "Which is a proper noun?", options: ["city", "London", "building", "country"], answer: 1 },
                    { q: "What is the past tense of 'eat'?", options: ["eated", "ate", "eaten", "eating"], answer: 1 },
                    { q: "Which word is a verb?", options: ["table", "jump", "red", "slowly"], answer: 1 },
                    { q: "What punctuation ends a question?", options: [".", "!", "?", ","], answer: 2 },
                    { q: "Which is a pronoun?", options: ["book", "she", "run", "happy"], answer: 1 },
                    { q: "What is the opposite of 'big'?", options: ["small", "large", "huge", "tiny"], answer: 0 },
                ],
                intermediate: [
                    { q: "Identify the conjunction: 'I like tea and coffee.'", options: ["like", "tea", "and", "coffee"], answer: 2 },
                    { q: "What is a gerund?", options: ["Past tense verb", "Verb form ending in -ing used as noun", "Adjective", "Adverb"], answer: 1 },
                    { q: "Which sentence uses correct subject-verb agreement?", options: ["The team are playing", "The team is playing", "The team be playing", "The team were playing"], answer: 1 },
                    { q: "What is the superlative form of 'good'?", options: ["gooder", "more good", "best", "most good"], answer: 2 },
                    { q: "Identify the preposition: 'The book is on the table.'", options: ["book", "is", "on", "table"], answer: 2 },
                    { q: "What is a compound sentence?", options: ["One independent clause", "Two or more independent clauses", "One dependent clause", "A fragment"], answer: 1 },
                    { q: "Which is the correct use of 'their'?", options: ["Their going home", "Their happy", "Their house is big", "Their is nice"], answer: 2 },
                    { q: "What is an interjection?", options: ["A verb", "An exclamation", "A noun", "An adjective"], answer: 1 },
                    { q: "Identify the adverb: 'She sings beautifully.'", options: ["She", "sings", "beautifully", "none"], answer: 2 },
                    { q: "What is the passive voice of 'John wrote the letter'?", options: ["The letter was written by John", "John was writing the letter", "The letter wrote John", "John has written the letter"], answer: 0 },
                ],
                advanced: [
                    { q: "What is a dangling participle?", options: ["A verb modifier", "A participle phrase that doesn't logically modify any word", "An incorrect tense", "A type of noun"], answer: 1 },
                    { q: "Identify the subjunctive mood: Which is correct?", options: ["If I was rich", "If I were rich", "If I am rich", "If I be rich"], answer: 1 },
                    { q: "What is a restrictive clause?", options: ["A clause set off by commas", "A clause essential to meaning", "An independent clause", "A fragment"], answer: 1 },
                    { q: "Which uses correct parallel structure?", options: ["She likes reading, writing, and to paint", "She likes reading, writing, and painting", "She likes to read, writing, and paint", "She likes read, write, and painting"], answer: 1 },
                    { q: "What is an appositive?", options: ["A verb phrase", "A noun/noun phrase that renames another noun", "An adjective", "A conjunction"], answer: 1 },
                    { q: "Identify the case: 'Give the book to him.'", options: ["Nominative", "Objective", "Possessive", "Genitive"], answer: 1 },
                    { q: "What is a cleft sentence?", options: ["A broken sentence", "A sentence split into two clauses for emphasis", "A run-on sentence", "A fragment"], answer: 1 },
                    { q: "Which demonstrates correct use of 'whom'?", options: ["Whom is calling?", "To whom did you speak?", "Whom called you?", "Whom is that?"], answer: 1 },
                    { q: "What is a nominal clause?", options: ["A clause functioning as a noun", "A clause with no verb", "An adjective clause", "A prepositional phrase"], answer: 0 },
                    { q: "Identify the mood: 'Long live the Queen!'", options: ["Indicative", "Imperative", "Subjunctive", "Conditional"], answer: 2 },
                ],
                mastery: [
                    { q: "In transformational grammar, what is a 'deep structure'?", options: ["Surface syntax", "Underlying syntactic representation", "Phonological form", "Semantic interpretation only"], answer: 1 },
                    { q: "What is tmesis?", options: ["Splitting a word with another word", "Omitting letters", "Adding prefixes", "Combining words"], answer: 0 },
                    { q: "Identify the rhetorical device: 'Ask not what your country can do for you'", options: ["Anaphora", "Chiasmus", "Antimetabole", "Polysyndeton"], answer: 1 },
                    { q: "What is the ablative absolute in English grammar?", options: ["A Latin construct rarely used in English", "A type of prepositional phrase", "A verb tense", "A noun case"], answer: 0 },
                    { q: "In prescriptive grammar, what is 'hypercorrection'?", options: ["Too much correction", "Applying a grammar rule incorrectly", "Perfect grammar", "Formal speech"], answer: 1 },
                    { q: "What is 'zeugma'?", options: ["A word applying to two others in different senses", "A palindrome", "A compound word", "A verb form"], answer: 0 },
                    { q: "Identify the literary device: 'The committee have made their decision.'", options: ["Synesis (notional agreement)", "Subject-verb disagreement", "Collective noun error", "British vs American English"], answer: 0 },
                    { q: "What is a 'shibboleth' in linguistic terms?", options: ["A pronunciation revealing origin/class", "A type of dialect", "A grammar rule", "A writing style"], answer: 0 },
                    { q: "In generative grammar, what is 'binding theory' concerned with?", options: ["Book binding", "Pronoun reference and anaphora", "Verb conjugation", "Word order"], answer: 1 },
                    { q: "What is 'garden path sentence'?", options: ["A sentence about gardens", "A sentence leading reader toward incorrect parse", "A long sentence", "A poetic sentence"], answer: 1 },
                ]
            },
            vocabulary: {
                beginner: [
                    { q: "What does 'happy' mean?", options: ["sad", "joyful", "angry", "tired"], answer: 1 },
                    { q: "A synonym for 'big' is:", options: ["small", "large", "tiny", "little"], answer: 1 },
                    { q: "What is the opposite of 'hot'?", options: ["warm", "cold", "cool", "freezing"], answer: 1 },
                    { q: "What does 'brave' mean?", options: ["scared", "courageous", "weak", "shy"], answer: 1 },
                    { q: "A synonym for 'fast' is:", options: ["slow", "quick", "lazy", "heavy"], answer: 1 },
                    { q: "What does 'ancient' mean?", options: ["new", "modern", "very old", "young"], answer: 2 },
                    { q: "An antonym for 'easy' is:", options: ["simple", "hard", "smooth", "soft"], answer: 1 },
                    { q: "What does 'enormous' mean?", options: ["tiny", "very large", "medium", "small"], answer: 1 },
                    { q: "A synonym for 'beautiful' is:", options: ["ugly", "pretty", "plain", "bad"], answer: 1 },
                    { q: "What does 'intelligent' mean?", options: ["stupid", "dumb", "smart", "foolish"], answer: 2 },
                ],
                intermediate: [
                    { q: "What does 'benevolent' mean?", options: ["evil", "kind and generous", "neutral", "angry"], answer: 1 },
                    { q: "A synonym for 'eloquent' is:", options: ["articulate", "silent", "confused", "shy"], answer: 0 },
                    { q: "What does 'ambiguous' mean?", options: ["clear", "having multiple meanings", "simple", "direct"], answer: 1 },
                    { q: "An antonym for 'prosperity' is:", options: ["wealth", "success", "poverty", "fortune"], answer: 2 },
                    { q: "What does 'meticulous' mean?", options: ["careless", "very careful and precise", "lazy", "quick"], answer: 1 },
                    { q: "A synonym for 'ephemeral' is:", options: ["permanent", "temporary", "eternal", "lasting"], answer: 1 },
                    { q: "What does 'pragmatic' mean?", options: ["idealistic", "practical", "theoretical", "emotional"], answer: 1 },
                    { q: "An antonym for 'verbose' is:", options: ["wordy", "talkative", "concise", "lengthy"], answer: 2 },
                    { q: "What does 'tenacious' mean?", options: ["weak", "persistent", "giving up easily", "lazy"], answer: 1 },
                    { q: "A synonym for 'audacious' is:", options: ["timid", "bold", "shy", "fearful"], answer: 1 },
                ],
                advanced: [
                    { q: "What does 'obsequious' mean?", options: ["rebellious", "independent", "excessively compliant", "confident"], answer: 2 },
                    { q: "A synonym for 'perspicacious' is:", options: ["dull", "insightful", "ignorant", "confused"], answer: 1 },
                    { q: "What does 'quixotic' mean?", options: ["practical", "realistic", "idealistic and impractical", "cynical"], answer: 2 },
                    { q: "An antonym for 'laconic' is:", options: ["brief", "concise", "verbose", "terse"], answer: 2 },
                    { q: "What does 'sanguine' mean?", options: ["pessimistic", "optimistic", "neutral", "depressed"], answer: 1 },
                    { q: "A synonym for 'ubiquitous' is:", options: ["rare", "omnipresent", "scarce", "unique"], answer: 1 },
                    { q: "What does 'recalcitrant' mean?", options: ["obedient", "stubborn", "flexible", "agreeable"], answer: 1 },
                    { q: "An antonym for 'fastidious' is:", options: ["meticulous", "sloppy", "careful", "precise"], answer: 1 },
                    { q: "What does 'magnanimous' mean?", options: ["petty", "generous in forgiving", "vengeful", "selfish"], answer: 1 },
                    { q: "A synonym for 'pernicious' is:", options: ["beneficial", "harmful", "helpful", "neutral"], answer: 1 },
                ],
                mastery: [
                    { q: "What does 'sesquipedalian' mean?", options: ["Brief", "Using long words", "Simple", "Common"], answer: 1 },
                    { q: "A synonym for 'pugnacious' is:", options: ["peaceful", "bellicose", "calm", "gentle"], answer: 1 },
                    { q: "What does 'grandiloquent' mean?", options: ["Simple speech", "Pompous/bombastic language", "Quiet", "Concise"], answer: 1 },
                    { q: "An antonym for 'insouciant' is:", options: ["carefree", "anxious", "relaxed", "nonchalant"], answer: 1 },
                    { q: "What does 'prelapsarian' mean?", options: ["After the fall", "Before the fall from innocence", "Modern", "Current"], answer: 1 },
                    { q: "A synonym for 'truculent' is:", options: ["gentle", "aggressive", "kind", "peaceful"], answer: 1 },
                    { q: "What does 'apposite' mean?", options: ["irrelevant", "apt and relevant", "opposite", "unrelated"], answer: 1 },
                    { q: "An antonym for 'munificent' is:", options: ["generous", "stingy", "liberal", "charitable"], answer: 1 },
                    { q: "What does 'eleemosynary' mean?", options: ["selfish", "relating to charity", "greedy", "commercial"], answer: 1 },
                    { q: "A synonym for 'anfractuous' is:", options: ["straight", "winding and intricate", "simple", "direct"], answer: 1 },
                ]
            },
            literature: {
                beginner: [
                    { q: "Who wrote 'Romeo and Juliet'?", options: ["Charles Dickens", "William Shakespeare", "Jane Austen", "Mark Twain"], answer: 1 },
                    { q: "What is a haiku?", options: ["A novel", "A short Japanese poem", "A play", "An essay"], answer: 1 },
                    { q: "Who wrote 'Harry Potter'?", options: ["J.R.R. Tolkien", "C.S. Lewis", "J.K. Rowling", "Roald Dahl"], answer: 2 },
                    { q: "What is the main character in a story called?", options: ["Antagonist", "Protagonist", "Narrator", "Author"], answer: 1 },
                    { q: "What is a metaphor?", options: ["A comparison using 'like' or 'as'", "A direct comparison", "A sound device", "A character"], answer: 1 },
                    { q: "Who wrote 'The Cat in the Hat'?", options: ["Dr. Seuss", "Roald Dahl", "Eric Carle", "Maurice Sendak"], answer: 0 },
                    { q: "What is the setting of a story?", options: ["The characters", "When and where it takes place", "The plot", "The theme"], answer: 1 },
                    { q: "What is a simile?", options: ["Direct comparison", "Comparison using 'like' or 'as'", "Exaggeration", "Sound device"], answer: 1 },
                    { q: "Who is the author of 'Charlotte's Web'?", options: ["E.B. White", "Roald Dahl", "Dr. Seuss", "Beverly Cleary"], answer: 0 },
                    { q: "What is alliteration?", options: ["Rhyming words", "Repetition of beginning sounds", "Exaggeration", "Comparison"], answer: 1 },
                ],
                intermediate: [
                    { q: "Who wrote '1984'?", options: ["Aldous Huxley", "George Orwell", "Ray Bradbury", "Kurt Vonnegut"], answer: 1 },
                    { q: "What is iambic pentameter?", options: ["A rhyme scheme", "A metrical line of 5 iambs", "A type of sonnet", "A narrative style"], answer: 1 },
                    { q: "Who wrote 'Pride and Prejudice'?", options: ["Charlotte Bront√´", "Emily Bront√´", "Jane Austen", "George Eliot"], answer: 2 },
                    { q: "What is personification?", options: ["Human characteristics to non-human things", "A character description", "A plot device", "A setting"], answer: 0 },
                    { q: "Who wrote 'The Great Gatsby'?", options: ["Ernest Hemingway", "F. Scott Fitzgerald", "John Steinbeck", "William Faulkner"], answer: 1 },
                    { q: "What is foreshadowing?", options: ["Looking back", "Hints about future events", "Character development", "Setting description"], answer: 1 },
                    { q: "Who wrote 'To Kill a Mockingbird'?", options: ["Harper Lee", "Toni Morrison", "Maya Angelou", "Alice Walker"], answer: 0 },
                    { q: "What is an allegory?", options: ["A short story", "A symbolic narrative with hidden meaning", "A type of poem", "A character type"], answer: 1 },
                    { q: "Who wrote 'Moby-Dick'?", options: ["Herman Melville", "Mark Twain", "Nathaniel Hawthorne", "Edgar Allan Poe"], answer: 0 },
                    { q: "What is dramatic irony?", options: ["Verbal irony", "Audience knows something characters don't", "Sarcasm", "Coincidence"], answer: 1 },
                ],
                advanced: [
                    { q: "Who wrote 'Ulysses'?", options: ["James Joyce", "Virginia Woolf", "T.S. Eliot", "Ezra Pound"], answer: 0 },
                    { q: "What is a bildungsroman?", options: ["A war novel", "A coming-of-age story", "A romance", "A mystery"], answer: 1 },
                    { q: "Who wrote 'One Hundred Years of Solitude'?", options: ["Jorge Luis Borges", "Gabriel Garc√≠a M√°rquez", "Pablo Neruda", "Mario Vargas Llosa"], answer: 1 },
                    { q: "What is stream of consciousness?", options: ["Linear narrative", "Unfiltered thoughts and feelings", "Dialogue", "Description"], answer: 1 },
                    { q: "Who wrote 'The Waste Land'?", options: ["W.B. Yeats", "T.S. Eliot", "Ezra Pound", "Robert Frost"], answer: 1 },
                    { q: "What is metafiction?", options: ["Science fiction", "Fiction about fiction", "Historical fiction", "Fantasy"], answer: 1 },
                    { q: "Who wrote 'Beloved'?", options: ["Alice Walker", "Toni Morrison", "Maya Angelou", "Zora Neale Hurston"], answer: 1 },
                    { q: "What is magical realism?", options: ["Pure fantasy", "Realistic fiction with magical elements", "Science fiction", "Historical fiction"], answer: 1 },
                    { q: "Who wrote 'The Sound and the Fury'?", options: ["William Faulkner", "Ernest Hemingway", "F. Scott Fitzgerald", "John Steinbeck"], answer: 0 },
                    { q: "What is a frame narrative?", options: ["A picture description", "A story within a story", "A short story", "A linear plot"], answer: 1 },
                ],
                mastery: [
                    { q: "In 'Paradise Lost', what is Satan's palace called?", options: ["Pandemonium", "Hell", "The Abyss", "Inferno"], answer: 0 },
                    { q: "What literary movement did Ezra Pound's 'In a Station of the Metro' exemplify?", options: ["Romanticism", "Imagism", "Surrealism", "Realism"], answer: 1 },
                    { q: "Who is the unreliable narrator in Nabokov's 'Pale Fire'?", options: ["John Shade", "Charles Kinbote", "Gradus", "Sybil Shade"], answer: 1 },
                    { q: "What is the form of Dante's 'Divine Comedy'?", options: ["Blank verse", "Terza rima", "Heroic couplets", "Free verse"], answer: 1 },
                    { q: "In Joyce's 'Finnegans Wake', what is the opening word?", options: ["riverrun", "Stately", "Yes", "Once"], answer: 0 },
                    { q: "What is 'defamiliarization' (ostranenie) in Russian Formalism?", options: ["Making the familiar strange", "Simplifying complex ideas", "Character development", "Plot structure"], answer: 0 },
                    { q: "Who wrote the postmodern novel 'Gravity's Rainbow'?", options: ["Don DeLillo", "Thomas Pynchon", "David Foster Wallace", "William Gaddis"], answer: 1 },
                    { q: "What is the narrative technique in Faulkner's 'As I Lay Dying'?", options: ["Third-person omniscient", "Multiple first-person narrators", "Second-person", "Single narrator"], answer: 1 },
                    { q: "In Milton's 'Paradise Lost', what is the 'fortunate fall'?", options: ["Satan's fall", "Adam's fall leading to redemption", "An angel's fall", "A literal fall"], answer: 1 },
                    { q: "What is 'negative capability' according to Keats?", options: ["Being uncertain without seeking facts", "Critical thinking", "Writer's block", "Pessimism"], answer: 0 },
                ]
            },
            spelling: {
                beginner: [
                    { q: "Which is spelled correctly?", options: ["recieve", "receive", "recive", "receeve"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["separate", "seperate", "separete", "seperete"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["definately", "definatly", "definitely", "definetly"], answer: 2 },
                    { q: "Which is spelled correctly?", options: ["occured", "occurred", "ocurred", "occuredd"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["tommorrow", "tommorow", "tomorrow", "tomorow"], answer: 2 },
                    { q: "Which is spelled correctly?", options: ["necesary", "neccesary", "necessary", "neccessary"], answer: 2 },
                    { q: "Which is spelled correctly?", options: ["beleive", "believe", "beleave", "belive"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["beggining", "begining", "beginning", "beginnnig"], answer: 2 },
                    { q: "Which is spelled correctly?", options: ["goverment", "govermnent", "government", "governmant"], answer: 2 },
                    { q: "Which is spelled correctly?", options: ["accomodate", "accommodate", "acommodate", "acomodate"], answer: 1 },
                ],
                intermediate: [
                    { q: "Which is spelled correctly?", options: ["conscientious", "concientious", "consientious", "consciencious"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["embarass", "embarrass", "embarras", "embaress"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["harass", "harrass", "harras", "haras"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["millennium", "millenium", "milennium", "milenium"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["persistant", "persisttant", "persistent", "persistenet"], answer: 2 },
                    { q: "Which is spelled correctly?", options: ["questionaire", "questionnaire", "questionairre", "questionnare"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["liason", "liaison", "liasion", "liaision"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["mischievous", "mischievious", "mischeivous", "mischevious"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["occassion", "occasion", "ocassion", "occastion"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["priviledge", "privilege", "privledge", "privilage"], answer: 1 },
                ],
                advanced: [
                    { q: "Which is spelled correctly?", options: ["accoutrement", "accouterment", "accoutremant", "acouterment"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["desiccate", "dessicate", "desicate", "dessicatte"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["inoculate", "innoculate", "inocculate", "innocculate"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["supersede", "supercede", "superceed", "superseed"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["pharoah", "pharaoh", "pharoh", "pharouh"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["minuscule", "miniscule", "minescule", "miniscul"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["concensus", "consensus", "consencus", "concensuss"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["ecstasy", "extasy", "ecstacy", "exstasy"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["acquiesce", "aquiesce", "aquesce", "acquiese"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["rhythm", "rythm", "rhythym", "rythym"], answer: 0 },
                ],
                mastery: [
                    { q: "Which is spelled correctly?", options: ["fuchsia", "fuschia", "fushia", "fuschsia"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["onomatopoeia", "onomatopeia", "onomatopoea", "onomatapoeia"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["proffessional", "profesional", "professional", "proffesional"], answer: 2 },
                    { q: "Which is spelled correctly?", options: ["memento", "momento", "mamento", "memnto"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["boullion", "bouillon", "bouilon", "bouillion"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["sacrilegious", "sacreligious", "sacriligious", "sacrelegious"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["dumbbell", "dumbell", "dumbel", "dumbbel"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["vicissitude", "vissicitude", "vicisitude", "vissisitude"], answer: 0 },
                    { q: "Which is spelled correctly?", options: ["pallete", "palette", "palet", "pallette"], answer: 1 },
                    { q: "Which is spelled correctly?", options: ["calender", "calendar", "calander", "calendor"], answer: 1 },
                ]
            },
            idioms: {
                beginner: [
                    { q: "What does 'break the ice' mean?", options: ["Destroy ice", "Start a conversation", "Go skating", "Cool down"], answer: 1 },
                    { q: "What does 'piece of cake' mean?", options: ["Dessert", "Easy task", "Birthday", "Difficult"], answer: 1 },
                    { q: "What does 'raining cats and dogs' mean?", options: ["Animal rain", "Heavy rain", "Light rain", "Sunny"], answer: 1 },
                    { q: "What does 'hit the books' mean?", options: ["Hit books physically", "Study hard", "Go to library", "Write books"], answer: 1 },
                    { q: "What does 'under the weather' mean?", options: ["Outside", "Feeling ill", "Happy", "Energetic"], answer: 1 },
                    { q: "What does 'break a leg' mean?", options: ["Injury", "Good luck", "Bad luck", "Dance"], answer: 1 },
                    { q: "What does 'cost an arm and a leg' mean?", options: ["Cheap", "Very expensive", "Free", "Medical cost"], answer: 1 },
                    { q: "What does 'once in a blue moon' mean?", options: ["Every month", "Very rarely", "Often", "Never"], answer: 1 },
                    { q: "What does 'call it a day' mean?", options: ["Start work", "Stop working", "Make a phone call", "Sleep"], answer: 1 },
                    { q: "What does 'the ball is in your court' mean?", options: ["Play sports", "Your decision", "My turn", "Game over"], answer: 1 },
                ],
                intermediate: [
                    { q: "What does 'beat around the bush' mean?", options: ["Garden work", "Avoid the main topic", "Be direct", "Fight"], answer: 1 },
                    { q: "What does 'bite the bullet' mean?", options: ["Eat", "Face difficulty bravely", "Avoid problems", "Celebrate"], answer: 1 },
                    { q: "What does 'burning the midnight oil' mean?", options: ["Fire hazard", "Working late", "Sleeping early", "Cooking"], answer: 1 },
                    { q: "What does 'cut to the chase' mean?", options: ["Run", "Get to the point", "Stop talking", "Start slowly"], answer: 1 },
                    { q: "What does 'devil's advocate' mean?", options: ["Evil person", "Someone who argues opposite view", "Lawyer", "Supporter"], answer: 1 },
                    { q: "What does 'let the cat out of the bag' mean?", options: ["Free a cat", "Reveal a secret", "Hide something", "Make noise"], answer: 1 },
                    { q: "What does 'spill the beans' mean?", options: ["Make a mess", "Reveal information", "Cook", "Keep quiet"], answer: 1 },
                    { q: "What does 'the elephant in the room' mean?", options: ["Large animal", "Obvious problem ignored", "Zoo visit", "Small issue"], answer: 1 },
                    { q: "What does 'throw in the towel' mean?", options: ["Do laundry", "Give up", "Continue fighting", "Clean up"], answer: 1 },
                    { q: "What does 'when pigs fly' mean?", options: ["Soon", "Never", "Always", "Sometimes"], answer: 1 },
                ],
                advanced: [
                    { q: "What does 'a blessing in disguise' mean?", options: ["Hidden curse", "Good thing not recognized at first", "Costume", "Prayer"], answer: 1 },
                    { q: "What does 'burn bridges' mean?", options: ["Arson", "Destroy relationships", "Build connections", "Travel"], answer: 1 },
                    { q: "What does 'go the extra mile' mean?", options: ["Travel", "Make special effort", "Give up", "Run"], answer: 1 },
                    { q: "What does 'jump on the bandwagon' mean?", options: ["Board a vehicle", "Join a popular trend", "Start something new", "Avoid crowds"], answer: 1 },
                    { q: "What does 'no pain, no gain' mean?", options: ["Avoid difficulty", "Suffering brings success", "Easy success", "Give up"], answer: 1 },
                    { q: "What does 'read between the lines' mean?", options: ["Poor vision", "Understand hidden meaning", "Read carefully", "Skip text"], answer: 1 },
                    { q: "What does 'the best of both worlds' mean?", options: ["Travel", "Benefits of two options", "Choose one", "Compromise"], answer: 1 },
                    { q: "What does 'throw caution to the wind' mean?", options: ["Be careful", "Take a risk", "Weather forecast", "Give up"], answer: 1 },
                    { q: "What does 'up in the air' mean?", options: ["Flying", "Uncertain", "Decided", "Happy"], answer: 1 },
                    { q: "What does 'weather the storm' mean?", options: ["Go outside", "Survive difficulty", "Avoid problems", "Study meteorology"], answer: 1 },
                ],
                mastery: [
                    { q: "What does 'a bird in the hand is worth two in the bush' mean?", options: ["Hunting advice", "Value what you have over uncertain prospects", "Bird watching", "Greed is good"], answer: 1 },
                    { q: "What does 'gild the lily' mean?", options: ["Garden work", "Add unnecessary embellishment", "Improve something", "Destroy beauty"], answer: 1 },
                    { q: "What does 'hoist by one's own petard' mean?", options: ["Victory", "Harmed by one's own plan", "Success", "Celebration"], answer: 1 },
                    { q: "What does 'in for a penny, in for a pound' mean?", options: ["Banking", "Fully committed once started", "Careful spending", "Avoid commitment"], answer: 1 },
                    { q: "What does 'moot point' mean?", options: ["Important issue", "Debatable/irrelevant point", "Proven fact", "New idea"], answer: 1 },
                    { q: "What does 'not hold water' mean?", options: ["Leak", "Argument is flawed", "Strong argument", "Swimming"], answer: 1 },
                    { q: "What does 'tilting at windmills' mean?", options: ["Jousting", "Fighting imaginary enemies", "Practical action", "Engineering"], answer: 1 },
                    { q: "What does 'to curry favor' mean?", options: ["Cook food", "Seek advantage through flattery", "Be honest", "Avoid people"], answer: 1 },
                    { q: "What does 'take with a grain of salt' mean?", options: ["Cooking", "View skeptically", "Believe completely", "Season food"], answer: 1 },
                    { q: "What does 'the proof is in the pudding' mean?", options: ["Cooking skill", "Results prove quality", "Dessert is ready", "Evidence is hidden"], answer: 1 },
                ]
            },
            writing: {
                beginner: [
                    { q: "What should every sentence start with?", options: ["Lowercase letter", "Capital letter", "Number", "Symbol"], answer: 1 },
                    { q: "What is a paragraph?", options: ["One sentence", "Group of related sentences", "A title", "A word"], answer: 1 },
                    { q: "What is the purpose of a thesis statement?", options: ["End an essay", "State main argument", "Tell a story", "Ask questions"], answer: 1 },
                    { q: "What is brainstorming?", options: ["Final draft", "Generating ideas", "Editing", "Publishing"], answer: 1 },
                    { q: "What is a topic sentence?", options: ["Last sentence", "Main idea of paragraph", "Question", "Title"], answer: 1 },
                    { q: "What are the three main parts of an essay?", options: ["Title, body, end", "Introduction, body, conclusion", "Start, middle, stop", "Beginning, center, finish"], answer: 1 },
                    { q: "What is revision?", options: ["First draft", "Improving and changing writing", "Spelling check", "Reading"], answer: 1 },
                    { q: "What is a rough draft?", options: ["Final version", "First version", "Published work", "Title page"], answer: 1 },
                    { q: "What is the purpose of a conclusion?", options: ["Introduce topic", "Summarize and wrap up", "Start new ideas", "Ask questions"], answer: 1 },
                    { q: "What is proofreading?", options: ["Writing", "Checking for errors", "Brainstorming", "Publishing"], answer: 1 },
                ],
                intermediate: [
                    { q: "What is a hook in writing?", options: ["Fishing tool", "Opening that grabs attention", "Conclusion", "Middle paragraph"], answer: 1 },
                    { q: "What is tone in writing?", options: ["Sound", "Author's attitude", "Volume", "Speed"], answer: 1 },
                    { q: "What is a transition word?", options: ["Final word", "Word connecting ideas", "First word", "Random word"], answer: 1 },
                    { q: "What is voice in writing?", options: ["Speaking loudly", "Author's unique style", "Character dialogue", "Narration"], answer: 1 },
                    { q: "What is cohesion in writing?", options: ["Random ideas", "Logical flow and connection", "Short sentences", "Long paragraphs"], answer: 1 },
                    { q: "What is a counterargument?", options: ["Main argument", "Opposing viewpoint", "Supporting evidence", "Conclusion"], answer: 1 },
                    { q: "What is diction?", options: ["Dictionary", "Word choice", "Pronunciation", "Grammar"], answer: 1 },
                    { q: "What is unity in a paragraph?", options: ["Multiple topics", "Single focused idea", "Many ideas", "Random thoughts"], answer: 1 },
                    { q: "What is the purpose of an outline?", options: ["Final draft", "Organize ideas before writing", "Decorate", "Publish"], answer: 1 },
                    { q: "What is plagiarism?", options: ["Original work", "Using others' work without credit", "Citation", "Research"], answer: 1 },
                ],
                advanced: [
                    { q: "What is ethos in rhetoric?", options: ["Emotion", "Credibility/character", "Logic", "Timing"], answer: 1 },
                    { q: "What is pathos in rhetoric?", options: ["Logic", "Emotional appeal", "Credibility", "Evidence"], answer: 1 },
                    { q: "What is logos in rhetoric?", options: ["Emotion", "Logic and reason", "Character", "Style"], answer: 1 },
                    { q: "What is synthesis in writing?", options: ["Summary", "Combining sources to create new understanding", "Copy", "Delete"], answer: 1 },
                    { q: "What is anaphora in rhetoric?", options: ["Metaphor", "Repetition of words at sentence beginnings", "Rhyme", "Alliteration"], answer: 1 },
                    { q: "What is parallelism in writing?", options: ["Side by side", "Similar grammatical structures", "Opposite ideas", "Random structure"], answer: 1 },
                    { q: "What is a rhetorical question?", options: ["Question needing answer", "Question for effect, not answer", "Survey question", "Test question"], answer: 1 },
                    { q: "What is antithesis in rhetoric?", options: ["Summary", "Contrasting ideas in parallel structure", "Agreement", "Repetition"], answer: 1 },
                    { q: "What is concession in argumentation?", options: ["Giving up", "Acknowledging opposing view", "Winning", "Ignoring opposition"], answer: 1 },
                    { q: "What is kairos in rhetoric?", options: ["Logic", "Timing and context", "Emotion", "Credibility"], answer: 1 },
                ],
                mastery: [
                    { q: "What is chiasmus?", options: ["Repetition", "Reversal of grammatical structures", "Rhyme", "Meter"], answer: 1 },
                    { q: "What is anadiplosis?", options: ["Beginning repetition", "Ending word becomes next beginning", "Random words", "Parallel structure"], answer: 1 },
                    { q: "What is asyndeton?", options: ["Many conjunctions", "Omission of conjunctions", "Complex sentences", "Simple sentences"], answer: 1 },
                    { q: "What is polysyndeton?", options: ["No conjunctions", "Multiple conjunctions", "One conjunction", "Complex words"], answer: 1 },
                    { q: "What is apophasis?", options: ["Direct statement", "Mentioning by claiming not to mention", "Question", "Exclamation"], answer: 1 },
                    { q: "What is auxesis?", options: ["Understatement", "Arrangement in order of increasing importance", "Random order", "Decreasing order"], answer: 1 },
                    { q: "What is epistrophe?", options: ["Beginning repetition", "Ending repetition", "Middle repetition", "No repetition"], answer: 1 },
                    { q: "What is hypophora?", options: ["Question only", "Asking and answering own question", "Statement", "Exclamation"], answer: 1 },
                    { q: "What is litotes?", options: ["Exaggeration", "Understatement using double negative", "Direct statement", "Question"], answer: 1 },
                    { q: "What is symploce?", options: ["Random structure", "Repetition at both beginning and end", "One repetition", "No repetition"], answer: 1 },
                ]
            }
        };

        // Mixed category combines all categories
        function getMixedQuestions(difficulty) {
            const categories = ['grammar', 'vocabulary', 'literature', 'spelling', 'idioms', 'writing'];
            const mixed = [];
            categories.forEach(cat => {
                const questions = quizData[cat][difficulty];
                mixed.push(...questions.map(q => ({...q, category: cat})));
            });
            return mixed;
        }

        // State
        let selectedCategory = null;
        let selectedDifficulty = null;
        let currentQuestions = [];
        let currentQuestion = 0;
        let score = 0;
        let startTime = 0;
        let timerInterval = null;
        let selectedAnswer = null;
        let usedQuestions = new Set();

        // Elements
        const menuScreen = document.getElementById('menuScreen');
        const quizScreen = document.getElementById('quizScreen');
        const resultsScreen = document.getElementById('resultsScreen');
        const startBtn = document.getElementById('startBtn');
        const categoryBtns = document.querySelectorAll('.category-btn');
        const difficultyBtns = document.querySelectorAll('.difficulty-btn');
        const categoryBadge = document.getElementById('categoryBadge');
        const difficultyBadge = document.getElementById('difficultyBadge');
        const questionNum = document.getElementById('questionNum');
        const timer = document.getElementById('timer');
        const questionNumber = document.getElementById('questionNumber');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('options');
        const nextBtn = document.getElementById('nextBtn');
        const finalScore = document.getElementById('finalScore');
        const performance = document.getElementById('performance');
        const restartBtn = document.getElementById('restartBtn');

        // Create floating symbols
        const symbols = ['üìö', '‚úçÔ∏è', 'üìñ', 'üìù', '‚ú®', 'üìï', 'üñãÔ∏è', 'üìú', 'üéì', 'üí≠'];
        const floatingSymbols = document.getElementById('floatingSymbols');
        for (let i = 0; i < 20; i++) {
            const symbol = document.createElement('div');
            symbol.className = 'symbol';
            symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
            symbol.style.left = Math.random() * 100 + '%';
            symbol.style.animationDelay = Math.random() * 20 + 's';
            symbol.style.animationDuration = (15 + Math.random() * 10) + 's';
            floatingSymbols.appendChild(symbol);
        }

        // Category selection
        categoryBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                categoryBtns.forEach(b => b.classList.remove('selected'));
                btn.classList.add('selected');
                selectedCategory = btn.dataset.category;
                updateStartButton();
            });
        });

        // Difficulty selection
        difficultyBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                difficultyBtns.forEach(b => b.classList.remove('selected'));
                btn.classList.add('selected');
                selectedDifficulty = btn.dataset.difficulty;
                updateStartButton();
            });
        });

        function updateStartButton() {
            startBtn.disabled = !(selectedCategory && selectedDifficulty);
        }

        // Start quiz
        startBtn.addEventListener('click', startQuiz);

        function startQuiz() {
            // Get questions for selected category and difficulty
            if (selectedCategory === 'mixed') {
                currentQuestions = getMixedQuestions(selectedDifficulty);
            } else {
                currentQuestions = quizData[selectedCategory][selectedDifficulty].map(q => ({...q}));
            }

            // Shuffle and select 10 unique questions
            currentQuestions = shuffleArray(currentQuestions);
            
            // Filter out previously used questions if possible
            const unusedQuestions = currentQuestions.filter(q => {
                const key = selectedCategory + selectedDifficulty + q.q;
                return !usedQuestions.has(key);
            });

            // Use unused questions, or reset if all have been used
            if (unusedQuestions.length >= 10) {
                currentQuestions = unusedQuestions.slice(0, 10);
            } else {
                usedQuestions.clear();
                currentQuestions = currentQuestions.slice(0, 10);
            }

            // Mark questions as used
            currentQuestions.forEach(q => {
                const key = selectedCategory + selectedDifficulty + q.q;
                usedQuestions.add(key);
            });

            currentQuestion = 0;
            score = 0;
            startTime = Date.now();

            // Update UI
            const categoryIcons = {
                grammar: 'üìù',
                vocabulary: 'üìñ',
                literature: 'üìï',
                spelling: '‚úçÔ∏è',
                idioms: 'üí¨',
                writing: 'üñãÔ∏è',
                mixed: 'üé≠'
            };
            
            const difficultyLabels = {
                beginner: 'üü¢ Beginner',
                intermediate: 'üü° Intermediate',
                advanced: 'üî¥ Advanced',
                mastery: 'üëë LITERARY MASTERY'
            };

            categoryBadge.textContent = categoryIcons[selectedCategory] + ' ' + selectedCategory.charAt(0).toUpperCase() + selectedCategory.slice(1);
            difficultyBadge.textContent = difficultyLabels[selectedDifficulty];

            menuScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');

            startTimer();
            showQuestion();
        }

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                timer.textContent = `‚è±Ô∏è ${elapsed}s`;
            }, 1000);
        }

        function showQuestion() {
            const question = currentQuestions[currentQuestion];
            selectedAnswer = null;

            questionNum.textContent = currentQuestion + 1;
            questionNumber.textContent = `Question ${currentQuestion + 1} of 10`;
            questionText.textContent = question.q;

            optionsContainer.innerHTML = '';
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.addEventListener('click', () => selectAnswer(index, optionDiv));
                optionsContainer.appendChild(optionDiv);
            });

            nextBtn.classList.add('hidden');
        }

        function selectAnswer(index, element) {
            if (selectedAnswer !== null) return; // Already answered

            selectedAnswer = index;
            const question = currentQuestions[currentQuestion];
            const options = optionsContainer.querySelectorAll('.option');

            element.classList.add('selected');

            // Show correct/incorrect
            setTimeout(() => {
                options.forEach((opt, i) => {
                    opt.style.pointerEvents = 'none';
                    if (i === question.answer) {
                        opt.classList.add('correct');
                    } else if (i === selectedAnswer) {
                        opt.classList.add('incorrect');
                    }
                });

                if (selectedAnswer === question.answer) {
                    score++;
                }

                nextBtn.classList.remove('hidden');
            }, 300);
        }

        nextBtn.addEventListener('click', () => {
            currentQuestion++;
            if (currentQuestion < currentQuestions.length) {
                showQuestion();
            } else {
                showResults();
            }
        });

        function showResults() {
            clearInterval(timerInterval);
            const elapsed = Math.floor((Date.now() - startTime) / 1000);

            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');

            const percentage = (score / currentQuestions.length) * 100;
            finalScore.textContent = `${score} / ${currentQuestions.length}`;

            let performanceText = '';
            if (percentage === 100) {
                performanceText = 'üèÜ Perfect Score! A True Literary Master!';
            } else if (percentage >= 80) {
                performanceText = '‚ú® Excellent! You have great command of English!';
            } else if (percentage >= 60) {
                performanceText = 'üìö Good job! Keep studying to improve!';
            } else if (percentage >= 40) {
                performanceText = 'üìñ Fair effort! Review and try again!';
            } else {
                performanceText = 'üìù Keep practicing! Every master was once a beginner!';
            }

            performanceText += `<br><small>Completed in ${elapsed} seconds</small>`;
            performance.innerHTML = performanceText;
        }

        restartBtn.addEventListener('click', () => {
            resultsScreen.classList.add('hidden');
            menuScreen.classList.remove('hidden');
            
            // Reset selections
            categoryBtns.forEach(b => b.classList.remove('selected'));
            difficultyBtns.forEach(b => b.classList.remove('selected'));
            selectedCategory = null;
            selectedDifficulty = null;
            updateStartButton();
        });
    </script>
</body>
</html>
